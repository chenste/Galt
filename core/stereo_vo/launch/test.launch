<launch>
    <arg name="stereo_ns" default="/mv_stereo"/>
    <arg name="disparity" default="true"/>
    <arg name="rviz" default="false"/>

    <!--StereoVO Node-->
    <include file="$(find stereo_vo)/launch/stereo_vo.launch">
      <arg name="stereo_ns" value="$(arg stereo_ns)"/>
    </include>

    <!--Rosbag-->
    <arg name="bagfile_home" default="$(env GALT_BAGFILES)"/>
    <arg name="bagfile" default=""/>
    <arg name="bagfile_path" default="$(arg bagfile_home)/$(arg bagfile)"/>
    <arg name="bagfile_start" default="0"/>

    <node pkg="rosbag" type="play" name="player"
        args="-s $(arg bagfile_start) -r 1 $(arg bagfile_path)">
    </node>

    <!--Disparity-->
    <node if="$(arg disparity)"
        pkg="image_view" type="stereo_view" name="stereo_view"
        args="stereo:=$(arg stereo_ns) image:=image_rect">
    </node>

    <!--Rviz-->
    <node if="$(arg rviz)"
      name="rviz_stereo" pkg="rviz" type="rviz"
      args="--display-config $(find stereo_vo)/rviz/config.rviz">
    </node>
</launch>
