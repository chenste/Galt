<launch>
    <arg name="test" default="true"/>
    <arg
        if="$(arg test)"
        name="bag" default="$(find flir_gige)/bag/calib.bag"/>
    <arg name="square"/>
    <arg name="size"/>
    <arg name="pattern"/>
    <arg name="camera" default="/flir_gige"/>
    <arg name="image" default="$(arg camera)/image_raw"/>

    <include
        unless="$(arg test)"
        file="$(find flir_gige)/launch/node.launch">
    </include>

    <node
        if="$(arg test)"
        pkg="rosbag" name="player" type="play" args="-l $(arg bag)">
    </node>

    <node pkg="flir_gige" type="calib_proc_node" name="calib_proc_node"
        ns="flir_gige" output="screen">
    </node>

    <!--
    <node pkg="camera_calibration" type="cameracalibrator.py" name="calibrator"
        args="-p $(arg pattern) -s $(arg size) -q $(arg square)
        image:=$(arg image) camera:=$(arg camera)">
    </node>
    -->

</launch>
